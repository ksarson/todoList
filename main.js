(()=>{"use strict";const e=[],t=[];function n(){document.querySelectorAll(".move-button").forEach((e=>{e.addEventListener("click",o)})),document.querySelectorAll(".edit-button").forEach((e=>{e.addEventListener("click",c)})),document.querySelectorAll(".delete-button").forEach((e=>{e.addEventListener("click",d)}))}function o(){const n=this.closest(".project-list-item");if(n){const i=document.getElementById("current-projects-list"),s=document.getElementById("completed-projects-list"),a=document.getElementById("upcoming-list"),r=document.getElementById("recently-closed-list"),l=n.cloneNode(!0),p=l.querySelector(".move-button img");n.parentNode===i?(p.alt="Uncomplete",p.src="./img/xIcon.svg",t.push(l),e.splice(e.indexOf(l),1),s.appendChild(l)):n.parentNode===a?(p.alt="Uncomplete",p.src="./img/xIcon.svg",t.push(l),e.splice(e.indexOf(l),1),r.appendChild(l)):n.parentNode===s?(p.alt="Complete",p.src="./img/completeIcon.svg",e.push(l),t.splice(t.indexOf(l),1),i.appendChild(l)):n.parentNode===r&&(p.alt="Complete",p.src="./img/completeIcon.svg",e.push(l),t.splice(t.indexOf(l),1),a.appendChild(l)),n.remove(),l.querySelector(".move-button").addEventListener("click",o),l.querySelector(".edit-button").addEventListener("click",c),l.querySelector(".delete-button").addEventListener("click",d)}}function c(){const e=this.closest(".project-list-item");if(e){const t=e.querySelector(".project-list-text");if(t){const e=prompt("Enter new text:");null!==e&&(t.textContent=e)}}}function d(){const n=this.closest(".project-list-item");if(n){n.remove();const o=e.indexOf(n);-1!==o&&e.splice(o,1);const c=t.indexOf(n);-1!==c&&t.splice(c,1)}}function i(e,t,n){const o=document.createElement("div");return o.classList.add("feature-div"),o.innerHTML=`<h2>${e}</h2><br><img class='feature-img' src='${t}'/><br>${n}`,o}function s(n){const o=document.createElement("div");o.classList.add("widget-div");const c=document.createElement("div");return c.classList.add(`${n}-header`.replace(" ","-").toLowerCase()),c.innerHTML=`<h2>${n}</h2>`,o.appendChild(c),o.appendChild(function(n){const o=document.createElement("div");if(o.classList.add(`${n}-list`.replace(" ","-").toLowerCase()),o.setAttribute("id",`${n}-list`.replace(" ","-").toLowerCase()),n.toLowerCase().includes("upcoming"))for(let t=0;t<3;t++)e[t]&&o.appendChild(e[t]);if(n.toLowerCase().includes("closed")){let e=Math.min(3,t.length);for(let n=t.length-1;n>=0&&e>0;n--)o.appendChild(t[n]),e--}return o}(n)),o}const a=function(){const e=document.getElementById("main");e.appendChild(function(){const e=document.createElement("div");e.classList.add("homepage-content","intro-div");const t=document.createElement("div");return t.classList.add("welcome-text"),t.innerHTML="<h2>Welcome to Your To-Do List App!</h2>\n    Embrace productivity with our feature-rich to-do list. Seamlessly create, manage, and prioritize tasks. \n    Effortlessly organize projects and group tasks, fostering efficiency in your daily workflow.\n    Enhance collaboration by sharing projects and tasks with your team. Stay on top of deadlines \n    and timelines with our scheduling feature. Experience the power of productivity at your fingertips. \n    Let's turn your ideas into accomplishments. Start organizing, start achieving!",e.appendChild(t),e.appendChild(function(){const e=document.createElement("div");return e.classList.add("features-div"),e.appendChild(i("Projects","./img/projectsIcon.png","Effortlessly organize and group tasks for efficient project management.")),e.appendChild(i("Tasks","./img/tasksIcon.png","Manage small, individual jobs with flexibility and ease.")),e.appendChild(i("Schedule","./img/scheduleIcon.png","Track timelines and deadlines for projects and tasks with precision.")),e}()),e}()),e.appendChild(function(){const e=document.createElement("div");return e.classList.add("homepage-content","widgets-div"),e.appendChild(s("Upcoming")),e.appendChild(s("Recently Closed")),e}()),n()};let r=0;function l(n){const o=document.createElement("div");o.classList.add("projects-widget-div");const c=document.createElement("div");return c.classList.add(`${n}-header`.replace(" ","-").toLowerCase()),c.innerHTML=`<h2>${n}</h2>`,o.appendChild(c),o.appendChild(function(n){const o=document.createElement("div");return o.classList.add(`${n}-list`.replace(" ","-").toLowerCase()),o.setAttribute("id",`${n}-list`.replace(" ","-").toLowerCase()),n.toLowerCase().includes("current")&&e.forEach((e=>{e&&o.appendChild(e)})),n.toLowerCase().includes("complete")&&t.forEach((e=>{e&&o.appendChild(e)})),o}(n)),o}function p(e,t,n){const o=document.createElement("button");o.classList.add(n);const c=document.createElement("img");return c.src=e,c.alt=t,c.style.height="24px",c.style.width="24px",o.appendChild(c),o}const u=function(){const t=document.getElementById("main");t.appendChild(function(){const e=document.createElement("div");e.classList.add("projects-content","intro-div");const t=document.createElement("div");return t.classList.add("intro-text"),t.innerHTML="<h2>Welcome to the Projects Page!</h2>\nExplore the heart of your productivity journey with our Projects feature. \nSeamlessly create, organize, and track your projects to bring your ideas to life. \nEffortlessly manage tasks, collaborate with your team, and stay focused on your goals. \nWith intuitive project management tools, you're empowered to turn your visions into tangible achievements. \nStart building, start collaborating - welcome to the Projects Page!",e.appendChild(t),e}()),t.appendChild(function(){const e=document.createElement("button");e.classList.add("projects-content","add-new-project-button");const t=document.createElement("div");return t.classList.add("add-new-project-text"),t.innerHTML="<h2>Add a New Project</h2>",e.appendChild(t),e}()),t.appendChild(function(){const e=document.createElement("div");return e.classList.add("projects-content","projects-widgets-div"),e.appendChild(l("Current Projects")),e.appendChild(l("Completed Projects")),e}()),n(),document.querySelector(".add-new-project-button").addEventListener("click",(()=>{!function(){r++;const t=document.getElementById("current-projects-list"),n=document.createElement("div");n.classList.add("project-list-item");const i=document.createElement("div");i.classList.add("project-list-text"),i.textContent="New Project "+r,n.appendChild(i);const s=document.createElement("div");s.classList.add("list-item-actions");const a=p("./img/completeIcon.svg","Move","move-button");a.addEventListener("click",o);const l=p("./img/editIcon.svg","Edit","edit-button");l.addEventListener("click",c);const u=p("./img/trashIcon.png","Delete","delete-button");var m;u.addEventListener("click",d),s.appendChild(a),s.appendChild(l),s.appendChild(u),n.appendChild(s),e.push(n),m=t,e.forEach((e=>{m.appendChild(e)}))}()}))};function m(){const e=document.getElementById("main");for(;e.firstChild;)e.removeChild(e.firstChild)}!function(){const e=document.getElementById("content");e.appendChild(function(){const e=document.createElement("header");e.classList.add("header");const t=document.createElement("img");t.classList.add("header-image"),t.setAttribute("src","./img/listIcon.png"),t.setAttribute("alt","listIcon");const n=document.createElement("div");n.classList.add("header-text"),n.appendChild(t);const o=document.createElement("h1");return o.classList.add("app-name"),o.textContent="List.io",n.appendChild(o),e.appendChild(n),e.appendChild(function(){const e=document.createElement("nav");e.classList.add("nav");const t=document.createElement("button");t.classList.add("nav-button","homepage-button"),t.textContent="Home",e.appendChild(t);const n=document.createElement("button");return n.classList.add("nav-button","projects-button"),n.textContent="Projects",e.appendChild(n),e}()),e}()),e.appendChild(function(){const e=document.createElement("main");return e.setAttribute("id","main"),e.classList.add("main"),e}()),e.appendChild(function(){const e=document.createElement("footer");e.classList.add("footer");const t=document.createElement("div");t.classList.add("footer-text"),t.textContent="Copyright Â© 2024 Kolby Sarson",e.appendChild(t);const n=document.createElement("a");n.classList.add("github-icon"),n.href="https://github.com/ksarson/todoList",n.target="_blank";const o=document.createElement("i");return o.classList.add("fab","fa-github"),n.appendChild(o),e.appendChild(t),e.appendChild(n),e}()),u(),document.querySelector(".homepage-button").addEventListener("click",(()=>{m(),a()})),document.querySelector(".projects-button").addEventListener("click",(()=>{m(),u()}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TThFLEVBQVN4RyxTQUFTdUMsY0FBYyxVQUN0Q2lFLEVBQU9oRSxVQUFVQyxJQUFJLFVBRXJCLE1BQU1nRSxFQUFhekcsU0FBU3VDLGNBQWMsT0FDMUNrRSxFQUFXakUsVUFBVUMsSUFBSSxlQUN6QmdFLEVBQVcxRSxZQUFjLGdDQUN6QnlFLEVBQU85RSxZQUFZK0UsR0FFbkIsTUFBTUMsRUFBYTFHLFNBQVN1QyxjQUFjLEtBQzFDbUUsRUFBV2xFLFVBQVVDLElBQUksZUFDekJpRSxFQUFXQyxLQUFPLHNDQUNsQkQsRUFBV0UsT0FBUyxTQUVwQixNQUFNQyxFQUFhN0csU0FBU3VDLGNBQWMsS0FPMUMsT0FOQXNFLEVBQVdyRSxVQUFVQyxJQUFJLE1BQU8sYUFFaENpRSxFQUFXaEYsWUFBWW1GLEdBQ3ZCTCxFQUFPOUUsWUFBWStFLEdBQ25CRCxFQUFPOUUsWUFBWWdGLEdBRVpGLENBQ1gsQ0Fjd0JNLElBQ3BCLElBRXVCOUcsU0FBU21CLGNBQWMsb0JBQy9CZixpQkFBaUIsU0FBUyxLQUNyQ3VGLElBQ0EsR0FBZ0IsSUFHRzNGLFNBQVNtQixjQUFjLG9CQUMvQmYsaUJBQWlCLFNBQVMsS0FDckN1RixJQUNBLEdBQWdCLEdBRXhCLENDcEdBLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9wcm9qZWN0RGF0YS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9ldmVudEhhbmRsZXJzLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2hvbWVwYWdlLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL3dlYnBhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGN1cnJlbnRQcm9qZWN0c0FycmF5ID0gW107XG5leHBvcnQgY29uc3QgY29tcGxldGVkUHJvamVjdHNBcnJheSA9IFtdO1xuIiwiaW1wb3J0IHsgY3VycmVudFByb2plY3RzQXJyYXksIGNvbXBsZXRlZFByb2plY3RzQXJyYXkgfSBmcm9tICcuL3Byb2plY3REYXRhJztcblxuZnVuY3Rpb24gYXR0YWNoRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbW92ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW92ZS1idXR0b24nKTtcbiAgICBtb3ZlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZUJ1dHRvbkhhbmRsZXIpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZWRpdEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdC1idXR0b24nKTtcbiAgICBlZGl0QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdEJ1dHRvbkhhbmRsZXIpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZGVsZXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxldGUtYnV0dG9uJyk7XG4gICAgZGVsZXRlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG1vdmVCdXR0b25IYW5kbGVyKCkge1xuICAgIGNvbnN0IGxpc3RJdGVtID0gdGhpcy5jbG9zZXN0KCcucHJvamVjdC1saXN0LWl0ZW0nKTtcbiAgICBpZiAobGlzdEl0ZW0pIHtcbiAgICAgICAgY29uc3QgY3VycmVudExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudC1wcm9qZWN0cy1saXN0Jyk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlZExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICdjb21wbGV0ZWQtcHJvamVjdHMtbGlzdCdcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdXBjb21pbmdMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwY29taW5nLWxpc3QnKTtcbiAgICAgICAgY29uc3QgcmVjZW50bHlDbG9zZWRMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAncmVjZW50bHktY2xvc2VkLWxpc3QnXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGNsb25lZEl0ZW0gPSBsaXN0SXRlbS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIGNvbnN0IG1vdmVJY29uID0gY2xvbmVkSXRlbS5xdWVyeVNlbGVjdG9yKCcubW92ZS1idXR0b24gaW1nJyk7XG5cbiAgICAgICAgaWYgKGxpc3RJdGVtLnBhcmVudE5vZGUgPT09IGN1cnJlbnRMaXN0KSB7XG4gICAgICAgICAgICBtb3ZlSWNvbi5hbHQgPSAnVW5jb21wbGV0ZSc7XG4gICAgICAgICAgICBtb3ZlSWNvbi5zcmMgPSAnLi9pbWcveEljb24uc3ZnJztcbiAgICAgICAgICAgIGNvbXBsZXRlZFByb2plY3RzQXJyYXkucHVzaChjbG9uZWRJdGVtKTtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0c0FycmF5LnNwbGljZShcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvamVjdHNBcnJheS5pbmRleE9mKGNsb25lZEl0ZW0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb21wbGV0ZWRMaXN0LmFwcGVuZENoaWxkKGNsb25lZEl0ZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxpc3RJdGVtLnBhcmVudE5vZGUgPT09IHVwY29taW5nTGlzdCkge1xuICAgICAgICAgICAgbW92ZUljb24uYWx0ID0gJ1VuY29tcGxldGUnO1xuICAgICAgICAgICAgbW92ZUljb24uc3JjID0gJy4vaW1nL3hJY29uLnN2Zyc7XG4gICAgICAgICAgICBjb21wbGV0ZWRQcm9qZWN0c0FycmF5LnB1c2goY2xvbmVkSXRlbSk7XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdHNBcnJheS5zcGxpY2UoXG4gICAgICAgICAgICAgICAgY3VycmVudFByb2plY3RzQXJyYXkuaW5kZXhPZihjbG9uZWRJdGVtKSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVjZW50bHlDbG9zZWRMaXN0LmFwcGVuZENoaWxkKGNsb25lZEl0ZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxpc3RJdGVtLnBhcmVudE5vZGUgPT09IGNvbXBsZXRlZExpc3QpIHtcbiAgICAgICAgICAgIG1vdmVJY29uLmFsdCA9ICdDb21wbGV0ZSc7XG4gICAgICAgICAgICBtb3ZlSWNvbi5zcmMgPSAnLi9pbWcvY29tcGxldGVJY29uLnN2Zyc7XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdHNBcnJheS5wdXNoKGNsb25lZEl0ZW0pO1xuICAgICAgICAgICAgY29tcGxldGVkUHJvamVjdHNBcnJheS5zcGxpY2UoXG4gICAgICAgICAgICAgICAgY29tcGxldGVkUHJvamVjdHNBcnJheS5pbmRleE9mKGNsb25lZEl0ZW0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50TGlzdC5hcHBlbmRDaGlsZChjbG9uZWRJdGVtKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaXN0SXRlbS5wYXJlbnROb2RlID09PSByZWNlbnRseUNsb3NlZExpc3QpIHtcbiAgICAgICAgICAgIG1vdmVJY29uLmFsdCA9ICdDb21wbGV0ZSc7XG4gICAgICAgICAgICBtb3ZlSWNvbi5zcmMgPSAnLi9pbWcvY29tcGxldGVJY29uLnN2Zyc7XG4gICAgICAgICAgICBjdXJyZW50UHJvamVjdHNBcnJheS5wdXNoKGNsb25lZEl0ZW0pO1xuICAgICAgICAgICAgY29tcGxldGVkUHJvamVjdHNBcnJheS5zcGxpY2UoXG4gICAgICAgICAgICAgICAgY29tcGxldGVkUHJvamVjdHNBcnJheS5pbmRleE9mKGNsb25lZEl0ZW0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB1cGNvbWluZ0xpc3QuYXBwZW5kQ2hpbGQoY2xvbmVkSXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgY29uc3QgY2xvbmVkTW92ZUJ1dHRvbiA9IGNsb25lZEl0ZW0ucXVlcnlTZWxlY3RvcignLm1vdmUtYnV0dG9uJyk7XG4gICAgICAgIGNsb25lZE1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlQnV0dG9uSGFuZGxlcik7XG4gICAgICAgIGNvbnN0IGNsb25lZEVkaXRCdXR0b24gPSBjbG9uZWRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LWJ1dHRvbicpO1xuICAgICAgICBjbG9uZWRFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdEJ1dHRvbkhhbmRsZXIpO1xuICAgICAgICBjb25zdCBjbG9uZWREZWxldGVCdXR0b24gPSBjbG9uZWRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUtYnV0dG9uJyk7XG4gICAgICAgIGNsb25lZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZWRpdEJ1dHRvbkhhbmRsZXIoKSB7XG4gICAgY29uc3QgbGlzdEl0ZW0gPSB0aGlzLmNsb3Nlc3QoJy5wcm9qZWN0LWxpc3QtaXRlbScpO1xuICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICBjb25zdCB0ZXh0RWxlbWVudCA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LWxpc3QtdGV4dCcpO1xuICAgICAgICBpZiAodGV4dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RleHQgPSBwcm9tcHQoJ0VudGVyIG5ldyB0ZXh0OicpO1xuICAgICAgICAgICAgaWYgKG5ld1RleHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0ZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1RleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUJ1dHRvbkhhbmRsZXIoKSB7XG4gICAgY29uc3QgbGlzdEl0ZW0gPSB0aGlzLmNsb3Nlc3QoJy5wcm9qZWN0LWxpc3QtaXRlbScpO1xuICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICBsaXN0SXRlbS5yZW1vdmUoKTtcbiAgICAgICAgY29uc3QgaW5kZXhJbkN1cnJlbnRBcnJheSA9IGN1cnJlbnRQcm9qZWN0c0FycmF5LmluZGV4T2YobGlzdEl0ZW0pO1xuICAgICAgICBpZiAoaW5kZXhJbkN1cnJlbnRBcnJheSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0c0FycmF5LnNwbGljZShpbmRleEluQ3VycmVudEFycmF5LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleEluQ29tcGxldGVkQXJyYXkgPSBjb21wbGV0ZWRQcm9qZWN0c0FycmF5LmluZGV4T2YobGlzdEl0ZW0pO1xuICAgICAgICBpZiAoaW5kZXhJbkNvbXBsZXRlZEFycmF5ICE9PSAtMSkge1xuICAgICAgICAgICAgY29tcGxldGVkUHJvamVjdHNBcnJheS5zcGxpY2UoaW5kZXhJbkNvbXBsZXRlZEFycmF5LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHtcbiAgICBtb3ZlQnV0dG9uSGFuZGxlcixcbiAgICBlZGl0QnV0dG9uSGFuZGxlcixcbiAgICBkZWxldGVCdXR0b25IYW5kbGVyLFxuICAgIGF0dGFjaEV2ZW50TGlzdGVuZXJzLFxufTtcbiIsImltcG9ydCB7IGN1cnJlbnRQcm9qZWN0c0FycmF5LCBjb21wbGV0ZWRQcm9qZWN0c0FycmF5IH0gZnJvbSAnLi9wcm9qZWN0RGF0YSc7XG5pbXBvcnQgeyBhdHRhY2hFdmVudExpc3RlbmVycyB9IGZyb20gJy4vZXZlbnRIYW5kbGVycyc7XG5cbi8vI3JlZ2lvbiAtIENvbnN0YW50c1xuY29uc3Qgd2VsY29tZU1lc3NhZ2UgPSBgPGgyPldlbGNvbWUgdG8gWW91ciBUby1EbyBMaXN0IEFwcCE8L2gyPlxuICAgIEVtYnJhY2UgcHJvZHVjdGl2aXR5IHdpdGggb3VyIGZlYXR1cmUtcmljaCB0by1kbyBsaXN0LiBTZWFtbGVzc2x5IGNyZWF0ZSwgbWFuYWdlLCBhbmQgcHJpb3JpdGl6ZSB0YXNrcy4gXG4gICAgRWZmb3J0bGVzc2x5IG9yZ2FuaXplIHByb2plY3RzIGFuZCBncm91cCB0YXNrcywgZm9zdGVyaW5nIGVmZmljaWVuY3kgaW4geW91ciBkYWlseSB3b3JrZmxvdy5cbiAgICBFbmhhbmNlIGNvbGxhYm9yYXRpb24gYnkgc2hhcmluZyBwcm9qZWN0cyBhbmQgdGFza3Mgd2l0aCB5b3VyIHRlYW0uIFN0YXkgb24gdG9wIG9mIGRlYWRsaW5lcyBcbiAgICBhbmQgdGltZWxpbmVzIHdpdGggb3VyIHNjaGVkdWxpbmcgZmVhdHVyZS4gRXhwZXJpZW5jZSB0aGUgcG93ZXIgb2YgcHJvZHVjdGl2aXR5IGF0IHlvdXIgZmluZ2VydGlwcy4gXG4gICAgTGV0J3MgdHVybiB5b3VyIGlkZWFzIGludG8gYWNjb21wbGlzaG1lbnRzLiBTdGFydCBvcmdhbml6aW5nLCBzdGFydCBhY2hpZXZpbmchYDtcblxuY29uc3QgcHJvamVjdHNGZWF0dXJlID0gJ1Byb2plY3RzJztcbmNvbnN0IHByb2plY3RzVXJsID0gJy4vaW1nL3Byb2plY3RzSWNvbi5wbmcnO1xuY29uc3QgcHJvamVjdHNEZXNjID1cbiAgICAnRWZmb3J0bGVzc2x5IG9yZ2FuaXplIGFuZCBncm91cCB0YXNrcyBmb3IgZWZmaWNpZW50IHByb2plY3QgbWFuYWdlbWVudC4nO1xuXG5jb25zdCB0YXNrc0ZlYXR1cmUgPSAnVGFza3MnO1xuY29uc3QgdGFza3NEZXNjID0gJ01hbmFnZSBzbWFsbCwgaW5kaXZpZHVhbCBqb2JzIHdpdGggZmxleGliaWxpdHkgYW5kIGVhc2UuJztcbmNvbnN0IHRhc2tzVXJsID0gJy4vaW1nL3Rhc2tzSWNvbi5wbmcnO1xuXG5jb25zdCBzY2hlZHVsZUZlYXR1cmUgPSAnU2NoZWR1bGUnO1xuY29uc3Qgc2NoZWR1bGVEZXNjID1cbiAgICAnVHJhY2sgdGltZWxpbmVzIGFuZCBkZWFkbGluZXMgZm9yIHByb2plY3RzIGFuZCB0YXNrcyB3aXRoIHByZWNpc2lvbi4nO1xuY29uc3Qgc2NoZWR1bGVVcmwgPSAnLi9pbWcvc2NoZWR1bGVJY29uLnBuZyc7XG4vLyNlbmRyZWdpb25cblxuZnVuY3Rpb24gY3JlYXRlV2VsY29tZSgpIHtcbiAgICBjb25zdCB3ZWxjb21lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd2VsY29tZURpdi5jbGFzc0xpc3QuYWRkKCdob21lcGFnZS1jb250ZW50JywgJ2ludHJvLWRpdicpO1xuXG4gICAgY29uc3Qgd2VsY29tZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3ZWxjb21lVGV4dC5jbGFzc0xpc3QuYWRkKCd3ZWxjb21lLXRleHQnKTtcbiAgICB3ZWxjb21lVGV4dC5pbm5lckhUTUwgPSB3ZWxjb21lTWVzc2FnZTtcblxuICAgIHdlbGNvbWVEaXYuYXBwZW5kQ2hpbGQod2VsY29tZVRleHQpO1xuICAgIHdlbGNvbWVEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlRmVhdHVyZXMoKSk7XG5cbiAgICByZXR1cm4gd2VsY29tZURpdjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmVhdHVyZXMoKSB7XG4gICAgY29uc3QgZmVhdHVyZXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmZWF0dXJlc0Rpdi5jbGFzc0xpc3QuYWRkKCdmZWF0dXJlcy1kaXYnKTtcblxuICAgIGZlYXR1cmVzRGl2LmFwcGVuZENoaWxkKFxuICAgICAgICBjcmVhdGVGZWF0dXJlKHByb2plY3RzRmVhdHVyZSwgcHJvamVjdHNVcmwsIHByb2plY3RzRGVzYylcbiAgICApO1xuICAgIGZlYXR1cmVzRGl2LmFwcGVuZENoaWxkKGNyZWF0ZUZlYXR1cmUodGFza3NGZWF0dXJlLCB0YXNrc1VybCwgdGFza3NEZXNjKSk7XG4gICAgZmVhdHVyZXNEaXYuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGNyZWF0ZUZlYXR1cmUoc2NoZWR1bGVGZWF0dXJlLCBzY2hlZHVsZVVybCwgc2NoZWR1bGVEZXNjKVxuICAgICk7XG5cbiAgICByZXR1cm4gZmVhdHVyZXNEaXY7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZlYXR1cmUoZmVhdHVyZU5hbWUsIGZlYXR1cmVVcmwsIGZlYXR1cmVEZXNjKSB7XG4gICAgY29uc3QgZmVhdHVyZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZlYXR1cmVEaXYuY2xhc3NMaXN0LmFkZCgnZmVhdHVyZS1kaXYnKTtcbiAgICBmZWF0dXJlRGl2LmlubmVySFRNTCA9IGA8aDI+JHtmZWF0dXJlTmFtZX08L2gyPjxicj48aW1nIGNsYXNzPSdmZWF0dXJlLWltZycgc3JjPScke2ZlYXR1cmVVcmx9Jy8+PGJyPiR7ZmVhdHVyZURlc2N9YDtcblxuICAgIHJldHVybiBmZWF0dXJlRGl2O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVXaWRnZXRzKCkge1xuICAgIGNvbnN0IHdpZGdldHNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3aWRnZXRzRGl2LmNsYXNzTGlzdC5hZGQoJ2hvbWVwYWdlLWNvbnRlbnQnLCAnd2lkZ2V0cy1kaXYnKTtcblxuICAgIHdpZGdldHNEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlV2lkZ2V0KCdVcGNvbWluZycpKTtcbiAgICB3aWRnZXRzRGl2LmFwcGVuZENoaWxkKGNyZWF0ZVdpZGdldCgnUmVjZW50bHkgQ2xvc2VkJykpO1xuXG4gICAgcmV0dXJuIHdpZGdldHNEaXY7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdpZGdldChoZWFkZXJUZXh0KSB7XG4gICAgY29uc3QgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaGVhZGVyRGl2LmNsYXNzTGlzdC5hZGQoJ3dpZGdldC1kaXYnKTtcblxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFxuICAgICAgICBgJHtoZWFkZXJUZXh0fS1oZWFkZXJgLnJlcGxhY2UoJyAnLCAnLScpLnRvTG93ZXJDYXNlKClcbiAgICApO1xuICAgIGhlYWRlci5pbm5lckhUTUwgPSBgPGgyPiR7aGVhZGVyVGV4dH08L2gyPmA7XG5cbiAgICBoZWFkZXJEaXYuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICBoZWFkZXJEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlTGlzdChoZWFkZXJUZXh0KSk7XG5cbiAgICByZXR1cm4gaGVhZGVyRGl2O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaXN0KGhlYWRlclRleHQpIHtcbiAgICBjb25zdCBuZXdMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmV3TGlzdC5jbGFzc0xpc3QuYWRkKGAke2hlYWRlclRleHR9LWxpc3RgLnJlcGxhY2UoJyAnLCAnLScpLnRvTG93ZXJDYXNlKCkpO1xuICAgIG5ld0xpc3Quc2V0QXR0cmlidXRlKFxuICAgICAgICAnaWQnLFxuICAgICAgICBgJHtoZWFkZXJUZXh0fS1saXN0YC5yZXBsYWNlKCcgJywgJy0nKS50b0xvd2VyQ2FzZSgpXG4gICAgKTtcblxuICAgIGlmIChoZWFkZXJUZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3VwY29taW5nJykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJvamVjdHNBcnJheVtpXSkge1xuICAgICAgICAgICAgICAgIG5ld0xpc3QuYXBwZW5kQ2hpbGQoY3VycmVudFByb2plY3RzQXJyYXlbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChoZWFkZXJUZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Nsb3NlZCcpKSB7XG4gICAgICAgIGxldCBtYXhJdGVtcyA9IE1hdGgubWluKDMsIGNvbXBsZXRlZFByb2plY3RzQXJyYXkubGVuZ3RoKTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICAgIGxldCBpID0gY29tcGxldGVkUHJvamVjdHNBcnJheS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaSA+PSAwICYmIG1heEl0ZW1zID4gMDtcbiAgICAgICAgICAgIGktLVxuICAgICAgICApIHtcbiAgICAgICAgICAgIG5ld0xpc3QuYXBwZW5kQ2hpbGQoY29tcGxldGVkUHJvamVjdHNBcnJheVtpXSk7XG4gICAgICAgICAgICBtYXhJdGVtcy0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0xpc3Q7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhvbWVwYWdlKCkge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xuXG4gICAgbWFpbi5hcHBlbmRDaGlsZChjcmVhdGVXZWxjb21lKCkpO1xuICAgIG1haW4uYXBwZW5kQ2hpbGQoY3JlYXRlV2lkZ2V0cygpKTtcbiAgICBhdHRhY2hFdmVudExpc3RlbmVycygpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVIb21lcGFnZTtcbiIsImltcG9ydCB7IGN1cnJlbnRQcm9qZWN0c0FycmF5LCBjb21wbGV0ZWRQcm9qZWN0c0FycmF5IH0gZnJvbSAnLi9wcm9qZWN0RGF0YSc7XG5pbXBvcnQge1xuICAgIGF0dGFjaEV2ZW50TGlzdGVuZXJzLFxuICAgIG1vdmVCdXR0b25IYW5kbGVyLFxuICAgIGVkaXRCdXR0b25IYW5kbGVyLFxuICAgIGRlbGV0ZUJ1dHRvbkhhbmRsZXIsXG59IGZyb20gJy4vZXZlbnRIYW5kbGVycyc7XG5cbmNvbnN0IHByb2plY3RzTWVzc2FnZSA9IGA8aDI+V2VsY29tZSB0byB0aGUgUHJvamVjdHMgUGFnZSE8L2gyPlxuRXhwbG9yZSB0aGUgaGVhcnQgb2YgeW91ciBwcm9kdWN0aXZpdHkgam91cm5leSB3aXRoIG91ciBQcm9qZWN0cyBmZWF0dXJlLiBcblNlYW1sZXNzbHkgY3JlYXRlLCBvcmdhbml6ZSwgYW5kIHRyYWNrIHlvdXIgcHJvamVjdHMgdG8gYnJpbmcgeW91ciBpZGVhcyB0byBsaWZlLiBcbkVmZm9ydGxlc3NseSBtYW5hZ2UgdGFza3MsIGNvbGxhYm9yYXRlIHdpdGggeW91ciB0ZWFtLCBhbmQgc3RheSBmb2N1c2VkIG9uIHlvdXIgZ29hbHMuIFxuV2l0aCBpbnR1aXRpdmUgcHJvamVjdCBtYW5hZ2VtZW50IHRvb2xzLCB5b3UncmUgZW1wb3dlcmVkIHRvIHR1cm4geW91ciB2aXNpb25zIGludG8gdGFuZ2libGUgYWNoaWV2ZW1lbnRzLiBcblN0YXJ0IGJ1aWxkaW5nLCBzdGFydCBjb2xsYWJvcmF0aW5nIC0gd2VsY29tZSB0byB0aGUgUHJvamVjdHMgUGFnZSFgO1xubGV0IGNvdW50ID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlSW50cm8oKSB7XG4gICAgY29uc3QgaW50cm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpbnRyb0Rpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0cy1jb250ZW50JywgJ2ludHJvLWRpdicpO1xuXG4gICAgY29uc3QgaW50cm9UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaW50cm9UZXh0LmNsYXNzTGlzdC5hZGQoJ2ludHJvLXRleHQnKTtcbiAgICBpbnRyb1RleHQuaW5uZXJIVE1MID0gcHJvamVjdHNNZXNzYWdlO1xuXG4gICAgaW50cm9EaXYuYXBwZW5kQ2hpbGQoaW50cm9UZXh0KTtcblxuICAgIHJldHVybiBpbnRyb0Rpdjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQWRkTmV3UHJvamVjdCgpIHtcbiAgICBjb25zdCBhZGROZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWRkTmV3UHJvamVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFxuICAgICAgICAncHJvamVjdHMtY29udGVudCcsXG4gICAgICAgICdhZGQtbmV3LXByb2plY3QtYnV0dG9uJ1xuICAgICk7XG5cbiAgICBjb25zdCBhZGROZXdQcm9qZWN0VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGFkZE5ld1Byb2plY3RUZXh0LmNsYXNzTGlzdC5hZGQoJ2FkZC1uZXctcHJvamVjdC10ZXh0Jyk7XG4gICAgYWRkTmV3UHJvamVjdFRleHQuaW5uZXJIVE1MID0gYDxoMj5BZGQgYSBOZXcgUHJvamVjdDwvaDI+YDtcblxuICAgIGFkZE5ld1Byb2plY3RCdXR0b24uYXBwZW5kQ2hpbGQoYWRkTmV3UHJvamVjdFRleHQpO1xuXG4gICAgcmV0dXJuIGFkZE5ld1Byb2plY3RCdXR0b247XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdpZGdldHMoKSB7XG4gICAgY29uc3Qgd2lkZ2V0c0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHdpZGdldHNEaXYuY2xhc3NMaXN0LmFkZCgncHJvamVjdHMtY29udGVudCcsICdwcm9qZWN0cy13aWRnZXRzLWRpdicpO1xuXG4gICAgd2lkZ2V0c0Rpdi5hcHBlbmRDaGlsZChjcmVhdGVXaWRnZXQoJ0N1cnJlbnQgUHJvamVjdHMnKSk7XG4gICAgd2lkZ2V0c0Rpdi5hcHBlbmRDaGlsZChjcmVhdGVXaWRnZXQoJ0NvbXBsZXRlZCBQcm9qZWN0cycpKTtcblxuICAgIHJldHVybiB3aWRnZXRzRGl2O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVXaWRnZXQoaGVhZGVyVGV4dCkge1xuICAgIGNvbnN0IGhlYWRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhlYWRlckRpdi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0cy13aWRnZXQtZGl2Jyk7XG5cbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcbiAgICAgICAgYCR7aGVhZGVyVGV4dH0taGVhZGVyYC5yZXBsYWNlKCcgJywgJy0nKS50b0xvd2VyQ2FzZSgpXG4gICAgKTtcbiAgICBoZWFkZXIuaW5uZXJIVE1MID0gYDxoMj4ke2hlYWRlclRleHR9PC9oMj5gO1xuXG4gICAgaGVhZGVyRGl2LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgaGVhZGVyRGl2LmFwcGVuZENoaWxkKGNyZWF0ZUxpc3QoaGVhZGVyVGV4dCkpO1xuXG4gICAgcmV0dXJuIGhlYWRlckRpdjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlzdChoZWFkZXJUZXh0KSB7XG4gICAgY29uc3QgbmV3TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5ld0xpc3QuY2xhc3NMaXN0LmFkZChgJHtoZWFkZXJUZXh0fS1saXN0YC5yZXBsYWNlKCcgJywgJy0nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICBuZXdMaXN0LnNldEF0dHJpYnV0ZShcbiAgICAgICAgJ2lkJyxcbiAgICAgICAgYCR7aGVhZGVyVGV4dH0tbGlzdGAucmVwbGFjZSgnICcsICctJykudG9Mb3dlckNhc2UoKVxuICAgICk7XG5cbiAgICBpZiAoaGVhZGVyVGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdjdXJyZW50JykpIHtcbiAgICAgICAgY3VycmVudFByb2plY3RzQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBuZXdMaXN0LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGhlYWRlclRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnY29tcGxldGUnKSkge1xuICAgICAgICBjb21wbGV0ZWRQcm9qZWN0c0FycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgbmV3TGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdMaXN0O1xufVxuXG5mdW5jdGlvbiBhZGRMaXN0SXRlbSgpIHtcbiAgICBjb3VudCsrO1xuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0c0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgJ2N1cnJlbnQtcHJvamVjdHMtbGlzdCdcbiAgICApO1xuXG4gICAgY29uc3QgbmV3UHJvamVjdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuZXdQcm9qZWN0SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWxpc3QtaXRlbScpO1xuXG4gICAgY29uc3QgdGV4dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0ZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWxpc3QtdGV4dCcpO1xuICAgIHRleHRFbGVtZW50LnRleHRDb250ZW50ID0gJ05ldyBQcm9qZWN0ICcgKyBjb3VudDtcblxuICAgIG5ld1Byb2plY3RJdGVtLmFwcGVuZENoaWxkKHRleHRFbGVtZW50KTtcblxuICAgIGNvbnN0IGl0ZW1BY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaXRlbUFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnbGlzdC1pdGVtLWFjdGlvbnMnKTtcblxuICAgIC8vI3JlZ2lvbiBDcmVhdGUgQnV0dG9uc1xuICAgIGNvbnN0IG1vdmVCdXR0b24gPSBjcmVhdGVCdXR0b24oXG4gICAgICAgICcuL2ltZy9jb21wbGV0ZUljb24uc3ZnJyxcbiAgICAgICAgJ01vdmUnLFxuICAgICAgICAnbW92ZS1idXR0b24nXG4gICAgKTtcbiAgICBtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZUJ1dHRvbkhhbmRsZXIpO1xuXG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihcbiAgICAgICAgJy4vaW1nL2VkaXRJY29uLnN2ZycsXG4gICAgICAgICdFZGl0JyxcbiAgICAgICAgJ2VkaXQtYnV0dG9uJ1xuICAgICk7XG4gICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVkaXRCdXR0b25IYW5kbGVyKTtcblxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbihcbiAgICAgICAgJy4vaW1nL3RyYXNoSWNvbi5wbmcnLFxuICAgICAgICAnRGVsZXRlJyxcbiAgICAgICAgJ2RlbGV0ZS1idXR0b24nXG4gICAgKTtcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgICAvLyNlbmRyZWdpb25cblxuICAgIGl0ZW1BY3Rpb25zLmFwcGVuZENoaWxkKG1vdmVCdXR0b24pO1xuICAgIGl0ZW1BY3Rpb25zLmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xuICAgIGl0ZW1BY3Rpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgbmV3UHJvamVjdEl0ZW0uYXBwZW5kQ2hpbGQoaXRlbUFjdGlvbnMpO1xuICAgIGN1cnJlbnRQcm9qZWN0c0FycmF5LnB1c2gobmV3UHJvamVjdEl0ZW0pO1xuICAgIHVwZGF0ZUxpc3QoY3VycmVudFByb2plY3RzTGlzdCk7XG5cbiAgICByZXR1cm4gY3VycmVudFByb2plY3RzTGlzdDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGlzdChwcm9qZWN0c0xpc3QpIHtcbiAgICBjdXJyZW50UHJvamVjdHNBcnJheS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgIHByb2plY3RzTGlzdC5hcHBlbmRDaGlsZChlKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uKGljb25TcmMsIGFsdFRleHQsIGJ1dHRvbkNsYXNzKSB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3MpO1xuXG4gICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGljb24uc3JjID0gaWNvblNyYztcbiAgICBpY29uLmFsdCA9IGFsdFRleHQ7XG4gICAgaWNvbi5zdHlsZS5oZWlnaHQgPSAnMjRweCc7XG4gICAgaWNvbi5zdHlsZS53aWR0aCA9ICcyNHB4JztcblxuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChpY29uKTtcblxuICAgIHJldHVybiBidXR0b247XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzKCkge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xuXG4gICAgbWFpbi5hcHBlbmRDaGlsZChjcmVhdGVJbnRybygpKTtcbiAgICBtYWluLmFwcGVuZENoaWxkKGNyZWF0ZUFkZE5ld1Byb2plY3QoKSk7XG4gICAgbWFpbi5hcHBlbmRDaGlsZChjcmVhdGVXaWRnZXRzKCkpO1xuICAgIGF0dGFjaEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBjb25zdCBhZGROZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJy5hZGQtbmV3LXByb2plY3QtYnV0dG9uJ1xuICAgICk7XG4gICAgYWRkTmV3UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgYWRkTGlzdEl0ZW0oKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlUHJvamVjdHM7XG4iLCJpbXBvcnQgY3JlYXRlSG9tZXBhZ2UgZnJvbSAnLi9ob21lcGFnZSc7XG5pbXBvcnQgY3JlYXRlUHJvamVjdHMgZnJvbSAnLi9wcm9qZWN0cyc7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyJyk7XG5cbiAgICBjb25zdCBoZWFkZXJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGhlYWRlckltYWdlLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci1pbWFnZScpO1xuICAgIGhlYWRlckltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgJy4vaW1nL2xpc3RJY29uLnBuZycpO1xuICAgIGhlYWRlckltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgJ2xpc3RJY29uJyk7XG5cbiAgICBjb25zdCBoZWFkZXJUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGhlYWRlclRpdGxlLmNsYXNzTGlzdC5hZGQoJ2hlYWRlci10ZXh0Jyk7XG4gICAgaGVhZGVyVGl0bGUuYXBwZW5kQ2hpbGQoaGVhZGVySW1hZ2UpO1xuXG4gICAgY29uc3QgYXBwTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gICAgYXBwTmFtZS5jbGFzc0xpc3QuYWRkKCdhcHAtbmFtZScpO1xuICAgIGFwcE5hbWUudGV4dENvbnRlbnQgPSAnTGlzdC5pbyc7XG4gICAgaGVhZGVyVGl0bGUuYXBwZW5kQ2hpbGQoYXBwTmFtZSk7XG5cbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGVyVGl0bGUpO1xuICAgIGhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVOYXYoKSk7XG5cbiAgICByZXR1cm4gaGVhZGVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOYXYoKSB7XG4gICAgY29uc3QgbmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbmF2Jyk7XG4gICAgbmF2LmNsYXNzTGlzdC5hZGQoJ25hdicpO1xuXG4gICAgY29uc3QgaG9tZXBhZ2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBob21lcGFnZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCduYXYtYnV0dG9uJywgJ2hvbWVwYWdlLWJ1dHRvbicpO1xuICAgIGhvbWVwYWdlQnV0dG9uLnRleHRDb250ZW50ID0gJ0hvbWUnO1xuICAgIG5hdi5hcHBlbmRDaGlsZChob21lcGFnZUJ1dHRvbik7XG5cbiAgICBjb25zdCBwcm9qZWN0c0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHByb2plY3RzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25hdi1idXR0b24nLCAncHJvamVjdHMtYnV0dG9uJyk7XG4gICAgcHJvamVjdHNCdXR0b24udGV4dENvbnRlbnQgPSAnUHJvamVjdHMnO1xuICAgIG5hdi5hcHBlbmRDaGlsZChwcm9qZWN0c0J1dHRvbik7XG5cbiAgICByZXR1cm4gbmF2O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYWluKCkge1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgbWFpbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ21haW4nKTtcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4nKTtcblxuICAgIHJldHVybiBtYWluO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGb290ZXIoKSB7XG4gICAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9vdGVyJyk7XG4gICAgZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ2Zvb3RlcicpO1xuXG4gICAgY29uc3QgZm9vdGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZvb3RlclRleHQuY2xhc3NMaXN0LmFkZCgnZm9vdGVyLXRleHQnKTtcbiAgICBmb290ZXJUZXh0LnRleHRDb250ZW50ID0gJ0NvcHlyaWdodCDCqSAyMDI0IEtvbGJ5IFNhcnNvbic7XG4gICAgZm9vdGVyLmFwcGVuZENoaWxkKGZvb3RlclRleHQpO1xuXG4gICAgY29uc3QgZ2l0aHViTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBnaXRodWJMaW5rLmNsYXNzTGlzdC5hZGQoJ2dpdGh1Yi1pY29uJyk7XG4gICAgZ2l0aHViTGluay5ocmVmID0gJ2h0dHBzOi8vZ2l0aHViLmNvbS9rc2Fyc29uL3RvZG9MaXN0JztcbiAgICBnaXRodWJMaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuXG4gICAgY29uc3QgZ2l0aHViSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICBnaXRodWJJY29uLmNsYXNzTGlzdC5hZGQoJ2ZhYicsICdmYS1naXRodWInKTtcblxuICAgIGdpdGh1YkxpbmsuYXBwZW5kQ2hpbGQoZ2l0aHViSWNvbik7XG4gICAgZm9vdGVyLmFwcGVuZENoaWxkKGZvb3RlclRleHQpO1xuICAgIGZvb3Rlci5hcHBlbmRDaGlsZChnaXRodWJMaW5rKTtcblxuICAgIHJldHVybiBmb290ZXI7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQ29udGVudCgpIHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcbiAgICB3aGlsZSAobWFpbi5maXJzdENoaWxkKSB7XG4gICAgICAgIG1haW4ucmVtb3ZlQ2hpbGQobWFpbi5maXJzdENoaWxkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVXZWJzaXRlKCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuXG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVIZWFkZXIoKSk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVNYWluKCkpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRm9vdGVyKCkpO1xuICAgIGNyZWF0ZVByb2plY3RzKCk7XG5cbiAgICBjb25zdCBob21lcGFnZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lcGFnZS1idXR0b24nKTtcbiAgICBob21lcGFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY2xlYXJDb250ZW50KCk7XG4gICAgICAgIGNyZWF0ZUhvbWVwYWdlKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBwcm9qZWN0c0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1idXR0b24nKTtcbiAgICBwcm9qZWN0c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY2xlYXJDb250ZW50KCk7XG4gICAgICAgIGNyZWF0ZVByb2plY3RzKCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRpYWxpemVXZWJzaXRlO1xuIiwiaW1wb3J0IGluaXRpYWxpemVXZWJzaXRlIGZyb20gJy4vd2VicGFnZSc7XG5cbmluaXRpYWxpemVXZWJzaXRlKCk7XG4iXSwibmFtZXMiOlsiY3VycmVudFByb2plY3RzQXJyYXkiLCJjb21wbGV0ZWRQcm9qZWN0c0FycmF5IiwiYXR0YWNoRXZlbnRMaXN0ZW5lcnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1vdmVCdXR0b25IYW5kbGVyIiwiZWRpdEJ1dHRvbkhhbmRsZXIiLCJkZWxldGVCdXR0b25IYW5kbGVyIiwibGlzdEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsImN1cnJlbnRMaXN0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb21wbGV0ZWRMaXN0IiwidXBjb21pbmdMaXN0IiwicmVjZW50bHlDbG9zZWRMaXN0IiwiY2xvbmVkSXRlbSIsImNsb25lTm9kZSIsIm1vdmVJY29uIiwicXVlcnlTZWxlY3RvciIsInBhcmVudE5vZGUiLCJhbHQiLCJzcmMiLCJwdXNoIiwic3BsaWNlIiwiaW5kZXhPZiIsImFwcGVuZENoaWxkIiwicmVtb3ZlIiwidGV4dEVsZW1lbnQiLCJuZXdUZXh0IiwicHJvbXB0IiwidGV4dENvbnRlbnQiLCJpbmRleEluQ3VycmVudEFycmF5IiwiaW5kZXhJbkNvbXBsZXRlZEFycmF5IiwiY3JlYXRlRmVhdHVyZSIsImZlYXR1cmVOYW1lIiwiZmVhdHVyZVVybCIsImZlYXR1cmVEZXNjIiwiZmVhdHVyZURpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJjcmVhdGVXaWRnZXQiLCJoZWFkZXJUZXh0IiwiaGVhZGVyRGl2IiwiaGVhZGVyIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwibmV3TGlzdCIsInNldEF0dHJpYnV0ZSIsImluY2x1ZGVzIiwiaSIsIm1heEl0ZW1zIiwiTWF0aCIsIm1pbiIsImxlbmd0aCIsImNyZWF0ZUxpc3QiLCJtYWluIiwid2VsY29tZURpdiIsIndlbGNvbWVUZXh0IiwiZmVhdHVyZXNEaXYiLCJjcmVhdGVGZWF0dXJlcyIsImNyZWF0ZVdlbGNvbWUiLCJ3aWRnZXRzRGl2IiwiY3JlYXRlV2lkZ2V0cyIsImNvdW50IiwiaXRlbSIsImNyZWF0ZUJ1dHRvbiIsImljb25TcmMiLCJhbHRUZXh0IiwiYnV0dG9uQ2xhc3MiLCJpY29uIiwic3R5bGUiLCJoZWlnaHQiLCJ3aWR0aCIsImludHJvRGl2IiwiaW50cm9UZXh0IiwiY3JlYXRlSW50cm8iLCJhZGROZXdQcm9qZWN0QnV0dG9uIiwiYWRkTmV3UHJvamVjdFRleHQiLCJjcmVhdGVBZGROZXdQcm9qZWN0IiwiY3VycmVudFByb2plY3RzTGlzdCIsIm5ld1Byb2plY3RJdGVtIiwiaXRlbUFjdGlvbnMiLCJtb3ZlQnV0dG9uIiwiZWRpdEJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsInByb2plY3RzTGlzdCIsImUiLCJhZGRMaXN0SXRlbSIsImNsZWFyQ29udGVudCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImNvbnRlbnQiLCJoZWFkZXJJbWFnZSIsImhlYWRlclRpdGxlIiwiYXBwTmFtZSIsIm5hdiIsImhvbWVwYWdlQnV0dG9uIiwicHJvamVjdHNCdXR0b24iLCJjcmVhdGVOYXYiLCJjcmVhdGVIZWFkZXIiLCJjcmVhdGVNYWluIiwiZm9vdGVyIiwiZm9vdGVyVGV4dCIsImdpdGh1YkxpbmsiLCJocmVmIiwidGFyZ2V0IiwiZ2l0aHViSWNvbiIsImNyZWF0ZUZvb3RlciJdLCJzb3VyY2VSb290IjoiIn0=